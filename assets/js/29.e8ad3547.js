(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{376:function(t,e,a){"use strict";a.r(e);var n=a(42),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"init-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#init-命令"}},[t._v("#")]),t._v(" init 命令")]),t._v(" "),a("p",[a("strong",[t._v("源码目录：")]),t._v("  packages/@vue/cli-init/index.js 。")]),t._v(" "),a("p",[a("strong",[t._v("作用：")]),t._v(" 下载远程模板并生成项目 。")]),t._v(" "),a("p",[a("strong",[t._v("相关说明：")]),t._v(" "),a("code",[t._v("vue init")]),t._v(" 命令主要是 2.x 版本使用，但在 3.0中还是将其保留，3.0 推荐使用 "),a("code",[t._v("vue create")]),t._v(" 。")]),t._v(" "),a("p",[a("code",[t._v("vue init")]),t._v(" 命令的入口在 packages/@vue/cli/bin/vue.js 中:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("program\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init <template> <app-name>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'generate a project from a remote template (legacy API, requires @vue/cli-init)'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-c, --clone'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Use git clone when fetching remote template'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--offline'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Use cached template'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/cli-init'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("vue init 命令需要输入模版的名称（template）以及 项目名称（app-name），而且都为必填。模版名称可以是官方的模板，"),a("a",{attrs:{href:"https://github.com/vuejs-templates",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方模版"),a("OutboundLink")],1),t._v(" 包含了 "),a("a",{attrs:{href:"https://github.com/vuejs-templates/webpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://github.com/vuejs-templates/pwa",target:"_blank",rel:"noopener noreferrer"}},[t._v("pwa"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://github.com/vuejs-templates/webpack-simple",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-simple"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://github.com/vuejs-templates/simple",target:"_blank",rel:"noopener noreferrer"}},[t._v("simple"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://github.com/vuejs-templates/browserify",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserify"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://github.com/vuejs-templates/browserify-simple",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserify-simple"),a("OutboundLink")],1),t._v(" 这 6 种模板。当然支持自定义 Github 模板，比如初始化 "),a("code",[t._v("mpvue-quickstart")]),t._v("的命令如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("vue init mpvue/mpvue-quickstart my-project\n")])])]),a("p",[a("a",{attrs:{href:"https://github.com/mpvue/mpvue-quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("mpvue/mpvue-quickstart"),a("OutboundLink")],1),t._v(" 中的 "),a("code",[t._v("template")]),t._v(" 就为mpvue-quickstart 的内容。")]),t._v(" "),a("p",[t._v("另外 option 包含了 -c  和 -offline，这两个参数的作用为：")]),t._v(" "),a("ul",[a("li",[t._v("-c：当利用 "),a("code",[t._v("download-git-repo")]),t._v(" 获取模版的时候采用"),a("code",[t._v("git clone")]),t._v("下载而不是"),a("code",[t._v("http 下载")]),t._v("，默认采用 http 下载。")]),t._v(" "),a("li",[t._v("--offline：使用缓存的 template 模板，位于"),a("code",[t._v("~/.vue-templates")]),t._v("目录下面。")])]),t._v(" "),a("p",[t._v("当执行 "),a("code",[t._v("vue-init")]),t._v(" 命令的时候 "),a("code",[t._v("loadCommand")]),t._v(" 函数会加载 "),a("code",[t._v("@vue/cli-init")]),t._v(" 模块，这也是为什么当你安装了 "),a("code",[t._v("@vue/cli")]),t._v("，但没有安装 "),a("code",[t._v("@vue/cli-init")]),t._v(" 的时候执行 "),a("code",[t._v("vue init <template> <app-name>")]),t._v(" 会有以下的提示：")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/assets/init-img01.png")}}),t._v(" "),a("p",[t._v("接下来我们就开始分析"),a("code",[t._v("@vue/cli-init")]),t._v(" 模块做了什么事情。")])])}),[],!1,null,null,null);e.default=s.exports}}]);